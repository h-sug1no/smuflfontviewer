<html>

<head>
  <meta name="copyright" content="Copyright (c) 2019 h-sug1no">
  <title>SMuFL font viewer</title>
  <link rel="icon"
      type="image/png"
      href="images/favicon.png">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.default.css">
  <style>
    /*
    @font-face {
      font-family: "SMuFLFont";
    }
    */

    .smufl {
      font-family: "SMuFLFont";
    }

    #contentContainer .smufl {
      font-size: 3em;
      margin: 0 0.2em;
    }

    .smuflGlyphname .smufl {
      font-size: 1.2em;
    }

    #contentContainer span {
      line-height: 2em;
    }

    #contentContainer span.smufl {
      display: inline-block;
    }

    .smufl_with_alternates {
      fill: blue;
    }

    #smuflGlyphCanvas {
      border: 1px solid black;
      font-family: "SMuFLFont";
      margin: 0.5em;
    }

    #smuflGlyphContainer {
      float: left;
      width: 55%;
    }

    #smuflGlyphContainer label {
      display: inline-block;
    }

    #smuflGlyphInfo {
      width: 40%;
      float: left;
      padding-left: 2em;
    }

    #smuflGlyphInfo > div{
      white-space: pre-wrap;
      margin-top: 1em;
    }

    .setContainer, .rangeContainer, .classContainer {
      white-space: pre-wrap;
      padding-top: 1em;
    }

    .ligatureContainer, .gwalternatesContainer {
      white-space: pre-wrap;
    }

    .ligatureContainer .glyphsContainer {
      overflow: visible;
      height: auto;
    }

    .glyphsContainer {
      height: 5em;
      overflow: auto;
      padding-left: 1em;
    }

    #glyphContainer {
      text-align: center;
      /* width: 40%; */
    }

    #rangeInfo button {
      margin: 0 0.3em;
    }

    #BShowPrev {
      margin: 0.5em;
    }

    span.smuflCodepoint,
    span.smuflGlyphname {
      text-decoration: underline;
      line-height: 1.5em;
    }

    span.optionalGlyph {
      background-color: eef9ee;
    }

    span.currentGlyph {
      font-weight: bold;
    }

    span.smuflCodepoint:hover,
    span.smuflGlyphname:hover {
      background-color: orange;
    }

    #smuflGlyphInfoText span.smuflGlyphname:hover {
      background-color: transparent;
    }

    #referencesContainer {
      clear: both;
    }

    #smuflGlyphInfo div, .glyphContainer {
      background-color: #eeeef0;
      border-radius: 1em;
      padding: 0.5em;
    }

    .glyphContainer {
      margin: 0.5em auto;
    }

    #smuflRenderGlyphOptionsGlyphSizeContainer *,
    #ssOptionsGlyphSizeContainer * {
      vertical-align: middle;
    }

    #setsInfo .setInfosContainer{
      overflow: scroll;
      height: 11em;
    }

    #setsInfo .setInfoContainer,
    #setsInfo .setInfo {
      padding-top: 0;
      padding-bottom: 0;
    }

    #smuflGlyphCanvasContainer {
      width: 100%;
      height: 65%;
      overflow: auto;
    }

    body.fakeDialogVisible #referencesContainer {
      display: none;
    }

    body.fakeDialogVisible #rootContainer.fakeDialog > * {
      display: none;
    }

    #rootContainer.fakeDialog div#infoDialog {
      display: none;
      position: absolute;
      padding: 1em;
      top: 0;
      left: 0;
      z-index: 100;
      background-color: white;
    }

    body.fakeDialogVisible #rootContainer.fakeDialog div#infoDialog {
      display: inline-block;
    }

    #infoDialog #dialogUi {
      position: fixed;
      top: 1em;
      right: 1em;
      background-color: #cccccc88;
    }

    #infoDialog #dialogTitle {
      margin: 0 1em;
    }

    #infoDialog #contentContainer {
      margin-top: 3em;
    }

    #infoDialog .stlinkContainer .urlText {
      width: 40em;
      height: 10em;
    }

    #infoDialog .stlinkContainer .msgText {
      margin-top: 1em;
    }

    #topUiContainer {
      padding: 1em;
    }

    #gm_canvas {
      width: 100%;
      height: 1900px;
    }

    .fontMetadataUrlsContainer {
      margin-bottom: 0.5em;
    }

    .selectize-dropdown,
    .selectize-input,
    .selectize-input input {
      font-size: 100%;
      line-height: 100%;
    }


    .selectize-control {
      text-align: left;
    }

    .tri-state {
      background-color: #f2f2f2;
    }

    #scratchpadDialog {
      position: absolute;
      z-index: 100;
      display: inline-block;
      text-align: start;
      background-color: white;
      border: 1px solid black;
      padding: 1em;
    }

    #scratchpadDialog.hidden {
      display: none;
    }

    #scratchpadDialog textarea {
      margin-top: 0.5em;
    }
  </style>

  <style type="text/css" media="print">
    #dialogUi {
      display: none;
    }

  </style>

  <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js"></script>

  <script src="./js/smuflutils.js"></script>
  <script src="./ssrenderer.js"></script>
  <script src="./viewer.js"></script>

  <script>
    const locationUrl = new URL(location);
    const searchParams = locationUrl.searchParams;
    const smuFLFontViewer = new SMuFLFontViewer();
  </script>

</head>

<body onload="javascript:smuFLFontViewer.init(searchParams)">
  
  <div id="rootContainer">

    <div id="infoDialog">
      <div id="dialogUi">
        <input type="button" class="closeButton" title="close(w)" value="close"><span id="dialogTitle"></span>
      </div>
      <div id="contentContainer"></div>
    </div>
    <div id="topUiContainer">
      <input id="BGlyphnames" type="button" title="Show (g)lyphnames" value="glyphnames">
      <input id="BOptionalGlyphs" type="button" title="Show font metadata optionalGlyphs" value="optionalGlyphs">
      <input id="BRanges" type="button" title="Show ranges" value="ranges">
      <input id="BClasses" type="button" title="Show classes" value="classes">
      <input id="BFontMetadata" type="button" title="Show font metadata" value="metadata">
      <input id="BFontMetadataLigatures" type="button" title="Show font metadata ligatures" value="ligatures">
      <input id="BFontMetadataSets" type="button" title="Show font metadata sets" value="sets">
      <input id="BFontMetadataGlyphsWithAlternates" type="button" title="Show font metadata glyphsWithAlternates"
        value="glyphsWithAlternates">
      <input id="BFontMetadataGlyphsWithAnchors" type="button" title="Show font metadata glyphsWithAnchors" value="glyphsWithAnchors">
      <input id="BStaticLink" type="button" title="copy static link url to clipboard" value="static link">
    </div>
    <div id="smuflGlyphContainer">
      <div id="glyphContainer">
        <select id="codepointSelect"></select>
        <input id="BPrev" type="button" value="&#x2190;" title="show prev codepoint(h)">
        <input id="BNextGlyph" type="button" value="&#x2193;" title="show next codepoint with glyph(j)">
        <input id="BPrevGlyph" type="button" value="&#x2191;" title="show prev codepoint with glyph(k)">
        <input id="BNext" type="button" value="&#x2192;" title="show next codepoint(l)">
        <input id="BShowPrev" type="button" title="show (p)rev glyph" value="Show Prev">
        <input id="BShowScratchpad" type="button" title="toggle Scratchpad" value="Scratchpad">
        <div id="scratchpadDialog" class="hidden">
          <div class="controls">
            <input type="button" value="insert" title="insert current glyph"></input>
            <label id="scrachpadGlyphSizeSliderContainer"><input id="scrachpadGlyphSizeSlider"
            type="range" min="10" max="200" value="100"><span><span></label>
          </div>
          <textarea class="smufl"></textarea>
        </div>
        <select id="rangeSelect" title="(r)anges"></select>
      </div>
      <div id="smuflGlyphCanvasContainer">
        <canvas id="smuflGlyphCanvas" width="2048" height="2048">
        </canvas>
      </div>
      <div id="smuflRenderGlyphOptions">
        <label title="glyph origin"><input id="smuflRenderGlyphOptionsOrigin" type="checkbox" checked />origin</label>
        <label title="staff lines: All glyphs should be drawn at a scale consistent with the key measurement that one staff space = 0.25 em"><input id="smuflRenderGlyphOptionsSl" type="checkbox" checked />sl</label>
        <label title="glyph bounding box"><input id="smuflRenderGlyphOptionsBbox" type="checkbox" checked />bbox<span
            class="val"></span></label>
        <label id="smuflRenderGlyphOptionsGlyphSizeContainer">glyph size: <input id="smuflRenderGlyphOptionsGlyphSize"
            type="range" min="30" max="1000" value="200"><span><span></label>
        <button id="smuflRenderGlyphOptionsResetScrollPosition" type="button" title="reset scroll position">reset</button>
        <label title="hide all properties"><input id="smuflRenderGlyphOptionsHideAll" type="checkbox" />hide</label>
      </div>
      <div id="smuflGlyphHints">
        <label title="The exact position at which the bottom left-hand (south-west) corner of an angled upward-pointing stem connecting the left-hand side of a notehead to a vertical stem to its right should start, relative to the glyph origin, expressed as Cartesian coordinates in staff spaces."><input
            type="checkbox" />splitStemUpSW<span class="val"></span></label>
        <label title="The exact position at which the bottom right-hand (south-east) corner of an angled upward-pointing stem connecting the right-hand side of a notehead to a vertical stem to its left should start, relative to the glyph origin, expressed as Cartesian coordinates in staff spaces."><input
            type="checkbox" />splitStemUpSE<span class="val"></span></label>
        <label title="The exact position at which the top left-hand (north-west) corner of an angled downward-pointing stem connecting the left-hand side of a notehead to a vertical stem to its right should start, relative to the glyph origin, expressed as Cartesian coordinates in staff spaces."><input
            type="checkbox" />splitStemDownNW<span class="val"></span></label>
        <label title="The exact position at which the top right-hand (north-east) corner of an angled downward-pointing stem connecting the right-hand side of a notehead to a vertical stem to its left should start, relative to the glyph origin, expressed as Cartesian coordinates in staff spaces."><input
            type="checkbox" />splitStemDownNE<span class="val"></span></label>
        <label title="The amount by which an up-stem should be lengthened from its nominal unmodified length in order to ensure a good connection with a flag, in spaces.11"><input
            type="checkbox" />stemUpNW<span class="val"></span></label>
        <label title="The exact position at which the top left-hand (north-west) corner of a downward-pointing stem rectangle should start, relative to the glyph origin, expressed as Cartesian coordinates in staff spaces."><input
            type="checkbox" />stemDownNW<span class="val"></span></label>
        <label title="The exact position at which the bottom right-hand (south-east) corner of an upward-pointing stem rectangle should start, relative to the glyph origin, expressed as Cartesian coordinates in staff spaces."><input
            type="checkbox" />stemUpSE<span class="val"></span></label>
        <label title="The amount by which a down-stem should be lengthened from its nominal unmodified length in order to ensure a good connection with a flag, in spaces."><input
            type="checkbox" />stemDownSW<span class="val"></span></label>
        <label title="The width in staff spaces of a given glyph that should be used for e.g. positioning leger lines correctly.12"><input
            type="checkbox" />nominalWidth<span class="val"></span></label>
        <label title="The position in staff spaces that should be used to position numerals relative to clefs with ligated numbers where those numbers hang from the bottom of the clef, corresponding horizontally to the center of the numeral's bounding box."><input
            type="checkbox" />numeralTop<span class="val"></span></label>
        <label title="The position in staff spaces that should be used to position numerals relative to clefs with ligatured numbers where those numbers sit on the baseline or at the north-east corner of the G clef, corresponding horizontally to the center of the numeral's bounding box."><input
            type="checkbox" />numeralBottom<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the bottom right corner of a nominal rectangle that intersects the top left corner of the glyph's bounding box."><input
            type="checkbox" />cutOutNW<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the bottom left corner of a nominal rectangle that intersects the top right corner of the glyph's bounding box. This rectangle, together with those in the other four corners of the glyph's bounding box, can be cut out to produce a more detailed bounding box (of abutting rectangles), useful for kerning or interlocking symbols such as accidentals."><input
            type="checkbox" />cutOutNE<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the top right corner of a nominal rectangle that intersects the bottom left corner of the glyph's bounding box."><input
            type="checkbox" />cutOutSW<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the top left corner of a nominal rectangle that intersects the bottom right corner of the glyph's bounding box."><input
            type="checkbox" />cutOutSE<span class="val"></span></label>
        <label title="cutOut anchor points are relative to the:
        unchecked: glyph origin.
        checked: bottom left-hand corner of the glyph bounding box(old spec).
        "><input
            type="checkbox" />cutOutOrigin_BBL<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the position at which the glyph graceNoteSlashStemUp should be positioned relative to the stem-up flag of an unbeamed grace note; alternatively, the bottom left corner of a diagonal line drawn instead of using the above glyph."><input
            type="checkbox" />graceNoteSlashSW<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the top right corner of a diagonal line drawn instead of using the glyph graceNoteSlashStemUp for a stem-up flag of an unbeamed grace note."><input
            type="checkbox" />graceNoteSlashNE<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the position at which the glyph graceNoteSlashStemDown should be positioned relative to the stem-down flag of an unbeamed grace note; alternatively, the top left corner of a diagonal line drawn instead of using the above glyph."><input
            type="checkbox" />graceNoteSlashNW<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the bottom right corner of a diagonal line drawn instead of using the glyph graceNoteSlashStemDown for a stem-down flag of an unbeamed grace note."><input
            type="checkbox" />graceNoteSlashSE<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the horizontal position at which a glyph repeats, i.e. the position at which the same glyph or another of the same group should be positioned to ensure correct tessellation. This is used for e.g. multi-segment lines and the component glyphs that make up trills and mordents."><input
            type="checkbox" />repeatOffset<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the left-hand edge of a notehead with a non-zero left-hand side bearing (e.g. a double whole, or breve, notehead with two vertical lines at each side), to assist in the correct horizontal alignment of these noteheads with other noteheads with zero-width left-side bearings."><input
            type="checkbox" />noteheadOrigin<span class="val"></span></label>
        <label title="The Cartesian coordinates in staff spaces of the optical center of the glyph, to assist in the correct horizontal alignment of the glyph relative to a notehead or stem. Currently recommended for use with glyphs in the Dynamics range."><input
            type="checkbox" />opticalCenter<span class="val"></span></label>
      </div>
    </div>
    <div id="smuflGlyphInfo">
      <div id="smuflGlyphInfoText" title="glyph info"></div>
      <div id="alternatesInfo" title="alternates"></div>
      <div id="rangeInfo" title="range"></div>
      <div id="classesInfo" title="classes"></div>
      <div id="ligaturesInfo" title="ligatures"></div>
      <div id="setsInfo" title="sets"></div>
    </div>
  </div>

  <div id="referencesContainer">References:
    <ul>
      <li><a href="https://w3c.github.io/smufl/gitbook/">w3c.github.io/smufl/gitbook</a></li>
      <li><a href="https://github.com/steinbergmedia/smufl">github.com/steinbergmedia/smufl</a></li>
    </ul>
  </div>

</body>

</html>